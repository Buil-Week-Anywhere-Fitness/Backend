## Database Schemas

The _Database Schemas_ for the `roles`, `users`, `classes`, `client_classes` resources are as follows:

#### Roles

| field      | data type        | metadata                                              |
| -----      | ---------------- | ----------------------------------------------------- |
| role_id    | unsigned integer | primary key, auto-increments, generated by database   |
| role_name  | string           | seeded with `instructor` or `client`                  |

#### Users

| field       | data type        | metadata                                                              |
| -----       | ---------------- | --------------------------------------------------------------------- |
| user_id     | unsigned integer | primary key, auto-increments, generated by database                   |
| name        | string           | required, unique                                                      |
| username    | string           | required, unique                                                      |
| email       | string           | required, unique                                                      |
| password    | string           | required                                                              |
| punch_count | unsigned integer | Defaults to 0, increases as client completes classes                  |
| role_id     | unsigned integer | corresponds with roles table to identify user as instructor or client |

#### Classes

| field              | data type        | metadata                                            |
| ------------------ | ---------------- | --------------------------------------------------- |
| class_id           | unsigned integer | primary key, auto-increments, generated by database |
| class_name         | string           | required                                            |
| class_type         | string           | required                                            |
| class_date         | string           | required                                            |
| start_time         | string           | required                                            |
| duration           | string           | required                                            |
| intensity          | string           | required                                            |
| location           | string           | required                                            |
| current_attendance | integer          | not required                                        |
| max_class_size     | integer          | required                                            |
| user_id            | unsigned integer | required, must be the `id` of an existing user      |

#### Client_classes

| field           | data type        | metadata                                              |
| --------------- | ---------------- | ----------------------------------------------------- |
| client_class_id | unsigned integer | primary key, auto-increments, generated by database   |
| user_id         | unsigned integer | required, must be the `id` of an existing user                  |
| class_id        | unsigned integer | required, must be the `id` of an existing class                  |


## API Reference

### Authentication endpoints

| Method | URL                | Description                                                                                                               |
| ------ | ------------------ | ------------------------------------------------------------------------------------------------------------------------- |
| GET    | /api/auth          | Returns an array users.                                                                                                   |
| POST   | /api/auth/register | Creates a user from { name, username, email, password, role_id } in the `request body`, responds with newly created user. |
| POST   | /api/auth/login    | Checks { username, password } in the `request body`, responds with a welcome message and token.                           |

### Workout class endpoints

| Method   | URL              | Description                                                        |
| -------- | ---------------- | ------------------------------------------------------------------ |
| GET      | /api/classes     | Returns an array of existing classes.                              |
| GET      | /api/classes/:id | Returns a class with specific class_id, must be an existing class  |
| POST     | /api/classes     | Returns an object with the new class and its details               |
| PUT      | /api/classes/:id | Returns an object with the updated class and details               |
| DELETE   | /api/classes     | Removes the class with specific class_id and returns deleted class |
